variables:
  SELENIUM_REMOTE_URL: http://localhost:4444/wd/hub

stages:
- unit-test
- build
- integration-test
- publish
  
test:unit:
  stage: unit-test
  script:
  - yarn install
  - yarn test
  tags:
  - eos
  
build:
  stage: build
  script:
  - yarn install
  - yarn build
  tags:
  - eos

test:integration:
  stage: integration-test
  script:
  - yarn install
  - yarn integration-test
  tags:
  - eos
  
publish:
  stage: publish
  script:
  - yarn install
  - yarn build
  artifacts:
    paths:
      - build/
  tags:
  - eos